<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Ovulation Predictor Calculator</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css"
    />
    <link
      href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@500&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./style.css" />
    <style>
      .vdp-datepicker__calendar {
        width: 100% !important;
      }

      .vdp-datepicker__calendar .cell.selected {
        background: #ee3967 !important;
        color: #fff;
        font-weight: bold;
      }

      .vdp-datepicker__calendar .cell:not(.blank):not(.disabled).day:hover,
      .vdp-datepicker__calendar .cell:not(.blank):not(.disabled).month:hover,
      .vdp-datepicker__calendar .cell:not(.blank):not(.disabled).year:hover {
        border: 1px solid #ee3967 !important;
      }

      .vdp-datepicker__calendar .cell.selected:hover {
        background: #ee3967 !important;
      }

      .select {
        margin-bottom: 1em;
      }

      .fade-enter {
        opacity: 0;
      }

      .fade-enter-active {
        transition: opacity 1.5s;
      }

      .fade-leave {
        opacity: 0;
      }
    </style>
  </head>
  <body>
    <!-- partial:index.partial.html -->
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Ovulation Predictor</title>
      </head>
      <body>
        <header>
          <!-- component -->
          <script
            src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js"
            defer
          ></script>
          <div
            class="
              w-full
              text-gray-700
              bg-white
              dark-mode:text-gray-200 dark-mode:bg-gray-800
              border-b
            "
            style="font-family: DM Sans"
          >
            <div
              x-data="{ open: false }"
              class="
                flex flex-col
                max-w-screen-xl
                px-4
                mx-auto
                md:items-center md:justify-between md:flex-row md:px-6
                lg:px-8
              "
            >
              <div class="p-4 flex flex-row items-center justify-between">
                <a
                  href="https://garbhagudi-ivf.com"
                  class="
                    text-lg
                    font-semibold
                    tracking-widest
                    text-gray-900
                    uppercase
                    rounded-lg
                    dark-mode:text-white
                    focus:outline-none focus:shadow-outline
                  "
                  ><img
                    src="https://res.cloudinary.com/garbhagudi/image/upload/v1633780956/garbhagudi-ivf/SVGs/logo_tyy9tg.svg"
                    alt="logo"
                    width="300px"
                /></a>
                <button
                  class="
                    md:hidden
                    rounded-lg
                    focus:outline-none focus:shadow-outline
                  "
                  @click="open = !open"
                >
                  <svg fill="currentColor" viewBox="0 0 20 20" class="w-6 h-6">
                    <path
                      x-show="!open"
                      fill-rule="evenodd"
                      d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z"
                      clip-rule="evenodd"
                    ></path>
                    <path
                      x-show="open"
                      fill-rule="evenodd"
                      d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                      clip-rule="evenodd"
                    ></path>
                  </svg>
                </button>
              </div>
              <nav
                :class="{'flex': open, 'hidden': !open}"
                class="
                  flex-col flex-grow
                  pb-4
                  md:pb-0
                  hidden
                  md:flex md:justify-end md:flex-row
                "
              >
                <a
                  class="
                    px-4
                    py-2
                    mt-2
                    text-sm
                    font-semibold
                    text-gray-900
                    rounded-lg
                    dark-mode:bg-gray-700
                    dark-mode:hover:bg-gray-600
                    dark-mode:focus:bg-gray-600
                    dark-mode:focus:text-white
                    dark-mode:hover:text-white
                    dark-mode:text-gray-200
                    md:mt-0
                    hover:text-gray-900
                    focus:text-gray-900
                    hover:bg-gray-200
                    focus:bg-gray-200 focus:outline-none focus:shadow-outline
                  "
                  href="https://garbhagudi-ivf.com"
                  >Home</a
                >
                <a
                  class="
                    px-4
                    py-2
                    mt-2
                    text-sm
                    font-semibold
                    bg-transparent
                    rounded-lg
                    dark-mode:bg-transparent
                    dark-mode:hover:bg-gray-600
                    dark-mode:focus:bg-gray-600
                    dark-mode:focus:text-white
                    dark-mode:hover:text-white
                    dark-mode:text-gray-200
                    md:mt-0 md:ml-4
                    hover:text-gray-900
                    focus:text-gray-900
                    hover:bg-gray-200
                    focus:bg-gray-200 focus:outline-none focus:shadow-outline
                  "
                  href="https://garbhagudi-ivf.com/male-infertility"
                  >Male Infertility</a
                >
                <a
                  class="
                    px-4
                    py-2
                    mt-2
                    text-sm
                    font-semibold
                    bg-transparent
                    rounded-lg
                    dark-mode:bg-transparent
                    dark-mode:hover:bg-gray-600
                    dark-mode:focus:bg-gray-600
                    dark-mode:focus:text-white
                    dark-mode:hover:text-white
                    dark-mode:text-gray-200
                    md:mt-0 md:ml-4
                    hover:text-gray-900
                    focus:text-gray-900
                    hover:bg-gray-200
                    focus:bg-gray-200 focus:outline-none focus:shadow-outline
                  "
                  href="https://garbhagudi-ivf.com/ivf-from-home"
                  >IVF From Home</a
                >
                <a
                  class="
                    px-4
                    py-2
                    mt-2
                    text-sm
                    font-semibold
                    bg-transparent
                    rounded-lg
                    dark-mode:bg-transparent
                    dark-mode:hover:bg-gray-600
                    dark-mode:focus:bg-gray-600
                    dark-mode:focus:text-white
                    dark-mode:hover:text-white
                    dark-mode:text-gray-200
                    md:mt-0 md:ml-4
                    hover:text-gray-900
                    focus:text-gray-900
                    hover:bg-gray-200
                    focus:bg-gray-200 focus:outline-none focus:shadow-outline
                  "
                  href="https://garbhagudi-ivf.com/online-consultation"
                  >Online Consultation</a
                >
                <div
                  @click.away="open = false"
                  class="relative"
                  x-data="{ open: false }"
                >
                  <button
                    @click="open = !open"
                    class="
                      flex flex-row
                      items-center
                      w-full
                      px-4
                      py-2
                      mt-2
                      text-sm
                      font-semibold
                      text-left
                      bg-transparent
                      rounded-lg
                      dark-mode:bg-transparent
                      dark-mode:focus:text-white
                      dark-mode:hover:text-white
                      dark-mode:focus:bg-gray-600
                      dark-mode:hover:bg-gray-600
                      md:w-auto md:inline md:mt-0 md:ml-4
                      hover:text-gray-900
                      focus:text-gray-900
                      hover:bg-gray-200
                      focus:bg-gray-200 focus:outline-none focus:shadow-outline
                    "
                  >
                    <span>Privacy Policy</span>
                    <svg
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      :class="{'rotate-180': open, 'rotate-0': !open}"
                      class="
                        inline
                        w-4
                        h-4
                        mt-1
                        ml-1
                        transition-transform
                        duration-200
                        transform
                        md:-mt-1
                      "
                    >
                      <path
                        fill-rule="evenodd"
                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                        clip-rule="evenodd"
                      ></path>
                    </svg>
                  </button>
                  <div
                    x-show="open"
                    x-transition:enter="transition ease-out duration-100"
                    x-transition:enter-start="transform opacity-0 scale-95"
                    x-transition:enter-end="transform opacity-100 scale-100"
                    x-transition:leave="transition ease-in duration-75"
                    x-transition:leave-start="transform opacity-100 scale-100"
                    x-transition:leave-end="transform opacity-0 scale-95"
                    class="
                      absolute
                      right-0
                      w-full
                      mt-2
                      origin-top-right
                      rounded-md
                      shadow-lg
                      md:w-48
                    "
                  >
                    <div
                      class="
                        px-2
                        py-2
                        bg-white
                        rounded-md
                        shadow
                        dark-mode:bg-gray-800
                      "
                    >
                      <a
                        class="
                          block
                          px-4
                          py-2
                          mt-2
                          text-sm
                          font-semibold
                          bg-transparent
                          rounded-lg
                          dark-mode:bg-transparent
                          dark-mode:hover:bg-gray-600
                          dark-mode:focus:bg-gray-600
                          dark-mode:focus:text-white
                          dark-mode:hover:text-white
                          dark-mode:text-gray-200
                          md:mt-0
                          hover:text-gray-900
                          focus:text-gray-900
                          hover:bg-gray-200
                          focus:bg-gray-200
                          focus:outline-none
                          focus:shadow-outline
                        "
                        href="https://garbhagudi-ivf.com/privacy-policy"
                        >Privacy Policy</a
                      >
                      <a
                        class="
                          block
                          px-4
                          py-2
                          mt-2
                          text-sm
                          font-semibold
                          bg-transparent
                          rounded-lg
                          dark-mode:bg-transparent
                          dark-mode:hover:bg-gray-600
                          dark-mode:focus:bg-gray-600
                          dark-mode:focus:text-white
                          dark-mode:hover:text-white
                          dark-mode:text-gray-200
                          md:mt-0
                          hover:text-gray-900
                          focus:text-gray-900
                          hover:bg-gray-200
                          focus:bg-gray-200
                          focus:outline-none
                          focus:shadow-outline
                        "
                        href="https://garbhagudi-ivf.com/refund-policy"
                        >Refund Policy</a
                      >
                      <a
                        class="
                          block
                          px-4
                          py-2
                          mt-2
                          text-sm
                          font-semibold
                          bg-transparent
                          rounded-lg
                          dark-mode:bg-transparent
                          dark-mode:hover:bg-gray-600
                          dark-mode:focus:bg-gray-600
                          dark-mode:focus:text-white
                          dark-mode:hover:text-white
                          dark-mode:text-gray-200
                          md:mt-0
                          hover:text-gray-900
                          focus:text-gray-900
                          hover:bg-gray-200
                          focus:bg-gray-200
                          focus:outline-none
                          focus:shadow-outline
                        "
                        href="https://garbhagudi-ivf.com/terms-and-conditions"
                        >Terms and Condition</a
                      >
                    </div>
                  </div>
                </div>
              </nav>
            </div>
          </div>
        </header>
        <section class="hero is-danger has-text-centered">
          <div class="hero-body">
            <div class="container">
              <h1 class="title is-3">Ovulation Calculator</h1>
            </div>
          </div>
        </section>

        <section id="app" class="section content has-text-centered">
          <transition name="fade" mode="out-in">
            <div
              class="content columns level is-centered"
              v-if="!calcReturned"
              key="calendar"
            >
              <div class="column is-one-third level has-text-centered">
                <p class="subtitle">
                  Please select the first day of your last menstrual period:
                </p>
                <vuejs-datepicker :inline="true" v-model="date"
                  >{{ date }}</vuejs-datepicker
                >
              </div>

              <div class="column is-one-third has-text-centered level">
                <p>Usual number of days in your cycle:</p>
                <div class="select is-primary">
                  <select name="days" v-model="cycleSelected">
                    <option v-for="n in 45" v-if="n >= 20">{{ n }}</option>
                  </select>
                </div>

                <div class="level-item">
                  <button
                    class="button is-large is-danger is-rounded"
                    id="calculate-btn"
                    @click="startCalc(); calculateFertileBegin(); calculateFertileEnds(); calculateDueDate();"
                  >
                    Calculate
                  </button>
                </div>
              </div>
            </div>

            <div class="content has-text-centered" v-else key="result">
              <p class="subtitle">
                Here are the results based on the information you provided:
              </p>
              <p>
                Your next most fertile period is
                <strong>{{ fertileFrom }}</strong> to
                <strong>{{ fertileUntil }}</strong>.
              </p>
              <p>
                If you conceive within this timeframe, your estimated due date
                will be <strong>{{ dueDate }}</strong>.
              </p>
              <div class="level-item">
                <button
                  class="button is-large is-danger is-rounded"
                  id="resetCalc"
                  @click="resetCalc"
                >
                  Calculate Again
                </button>
              </div>
            </div>
          </transition>

          <div class="notification is-full">
            *Average length will vary by woman. **A woman's best days to
            conceive can start at least one day prior and last at least one day
            after fertile date.
          </div>
        </section>
      </body>
    </html>
    <!-- partial -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.min.js"></script>
    <script src="https://unpkg.com/vuejs-datepicker"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script>
      // Ovulation Predictor Calculator using Vue.js + Vue Datepicker + MomentJS + Bulma CSS

      new Vue({
        el: "#app",
        components: {
          vuejsDatepicker,
        },

        data() {
          return {
            calcReturned: false,
            date: new Date(),
            cycleSelected: 28,
            fertileFrom: "",
            fertileUntil: "",
            dueDate: "",
            fullDate: "",
          };
        },
        methods: {
          startCalc: function () {
            this.calcReturned = true;
          },
          calcDate: function () {
            var day = parseInt(
              document.querySelector("span.day.selected").innerHTML
            );
            var month = document.querySelector("span.month.selected").innerHTML;
            var year = parseInt(
              document.querySelector("span.year.selected").innerHTML
            );

            var months = [
              "January",
              "February",
              "March",
              "April",
              "May",
              "June",
              "July",
              "August",
              "September",
              "October",
              "November",
              "December",
            ];

            months.forEach(function (value, i) {
              if (value === month && i <= 8) {
                i++;
                month = "0" + i.toString();
              } else if (value === month && i >= 9) {
                i++;
                month = i.toString();
              }
            });

            this.fullDate = year + "" + month + "" + day;
          },
          calculateFertileBegin: function () {
            this.calcDate();
            if (this.cycleSelected === 28) {
              this.fertileFrom = moment(this.fullDate, "YYYYMMDD")
                .add(12, "days")
                .format("MMMM Do YYYY");
            } else {
              this.fertileFrom = moment(this.fullDate, "YYYYMMDD")
                .add(this.cycleSelected - 28 + 12, "days")
                .format("MMMM Do YYYY");
            }
          },
          calculateFertileEnds: function () {
            //this.calcDate(); is called from calculateFertileBegin
            if (this.cycleSelected === 28) {
              this.fertileUntil = moment(this.fullDate, "YYYYMMDD")
                .add(16, "days")
                .format("MMMM Do YYYY");
            } else {
              this.fertileUntil = moment(this.fullDate, "YYYYMMDD")
                .add(this.cycleSelected - 28 + 16, "days")
                .format("MMMM Do YYYY");
            }
          },
          calculateDueDate: function () {
            //this.calcDate(); is called from calculateFertileBegin
            if (this.cycleSelected === 28) {
              this.dueDate = moment(this.fullDate, "YYYYMMDD")
                .add(280, "days")
                .format("MMMM Do YYYY");
            } else {
              this.dueDate = moment(this.fullDate, "YYYYMMDD")
                .add(this.cycleSelected - 28 + 280, "days")
                .format("MMMM Do YYYY");
            }
          },
          resetCalc: function () {
            this.calcReturned = false;
            this.date = new Date();
            this.cycleSelected = 28;
            this.fertileFrom = "";
            this.fertileUntil = "";
            this.dueDate = "";
            this.fullDate = "";
          },
        },
      });
    </script>
  </body>
</html>
